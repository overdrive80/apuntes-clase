#+INCLUDE: "../../../common/header.org"
#+TITLE:  Aspectos físicos de la transmisión
#+SUBTITLE: 
#+KEYWORDS: 
#+OPTIONS: reveal_single_file:t
#+HTML_HEAD_EXTRA: <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>



* Introducción

- La capa física se encarga de la transmisión de bits por el medio o canal de comunicación.
- El nivel de enlace genera grupo de bits (tramas). Los medios físicos transportan señales, que representan los bits.


** Elementos
- Elementos de una comunicación:
  -  Emisor: codificar en señales los dígitos binarios que representan las tramas de la capa de enlace de datos.
  -  Medio: transmitir las magnitudes físicas por el canal.
  -  Receptor: recuperar estas señales individuales desde los medios, restaurarlas para sus representaciones de bit y enviar los bits hacia la capa de enlace de datos.  

- La capa física debe contemplar:
  -  Medios físicos y conectores asociados.
  -  Una representación de los bits en los medios .
  -  Codificación de los datos y de la información de control.
  -  Sistema de circuitos del receptor y transmisor en los dispositivos de red.
    
* Estándares
- Un estándar es un acuerdo entre varias partes
- Sirve para garantizar la *interoperabilidad*
  - Cada elemento es sustituible por partes equivalentes de otro proveedor
- Tipos de estándares
  - De /iure/: Acordado entre varias partes
  - De /facto/: Por costumbre o dominancia de algún proveedor

** Principales organizaciones estandarizadoras
#+ATTR_LATEX: :align |l|p{7cm}|
| ISO     | Organización Internacional para la Estandarización                                                      |
| IEEE    | Instituto de Ingenieros Eléctricos y Electrónicos                                                       |
| ANSI    | Instituto Nacional Estadounidense de Estándares                                                         |
| ITU     | Unión Internacional de Telecomunicaciones                                                               |
| EIA/TIA | La Asociación de Industrias Electrónicas y la Asociación de las Industrias de las Telecomunicaciones    |
| FCC     | Autoridades de las telecomunicaciones nacionales, como la Comisión Federal de Comunicaciones  en EE.UU. |
| IETF    | /Internet Engineering Task Force/                                                                       |

#+reveal: split

#+attr_latex: :width 0.6\textwidth
[[file:media/estandares-y-niveles.png]]
* Medio de transmisión
** Tipos básicos de medios de red:
-  Cable de cobre. Pulsos eléctricos.
-  Fibra. Patrones de luz.
-  Inalámbrico. Patrones de transmisión de radio.

** Tipos de señal
- Señal analógica
  - Todos los niveles de señal son importantes
  - En cualquier momento
  - No hay /cuantización/
- Señal digital
  - Sólo unos pocos niveles son válidos
  - En algunos momentos (/muestreo/)
  - Los demás niveles se aproximan a los válidos


#+reveal: split

[[file:media/muestreo-analogico-digital.png]]
[[https://wikitecno.wikispaces.com/file/view/Sennal_analogica_digital.png/364985066/967x394/Sennal_analogica_digital.png][
Fuente: wikitecno]]

** tipos de señal

|   |                         | *Canal analógico*                  | *Canal digital*    |
|---+-------------------------+------------------------------------+--------------------|
| / | >                       | <                                  |                    |
|   | *Información analógica* | Teléfono o televisión (analógicos) | Televisión digital |
|   | *Información digital*   | Fax, módem telefónico              | ADSL, fibra        |



- La señal no es digital, la *información* que lleva sí.
- Consideramos canal digital a uno diseñado originalmente para llevar información digital
  - Siempre se puede cuantizar después para convertir en digital


* Señalización
- La capa física debe generar las señales (inalámbricas, ópticas o eléctricas) que representan el "1" y el "0" en los medios. 
- El método de representación de bits se denomina método de señalización.
- La transmisión de la trama a través de los medios se realiza mediante una cadena o stream de bits. 
- El tiempo de bit es el tiempo que ocupa el medio la transmisión de un bit. 
  - El tiempo de bit debe estar sincronizado entre el transmisor y el receptor (se utilizan señales de reloj para este fin).
  - Para sincronizar los relojes e identificar inicios/finales tramas (información a nivel de enlace), se utilizan combinaciones de bits preestablecidas (patrones).

** Banda base/Banda ancha
- [[https://es.wikipedia.org/wiki/Banda_base][Banda base]]
  - Se pueden utilizar simplemente voltajes para indicar niveles
  - No se puede multiplexar el medio
  - Se suele utilizar en medios de baja velocidad
- [[https://es.wikipedia.org/wiki/Banda_ancha][Banda ancha]]
  - El medio se comparte, utilizando diferentes frecuencias
  - Cada frecuencia es un canal independiente

** Modulación de señal
- Las señales no se suelen emitir sin más (excepto a veces en banda base)
- Sino que se transmiten como variaciones de una [[https://www.geogebra.org/m/KfUX66de][onda sinusoidal]]
  $$y(t) = A\times\sen(\omega \times t + \varphi)$$
  - $A$: Amplitud 
  - $\omega$: Frecuencia
  - $\varphi$: Fase 
- Los bits se representan en el medio al cambiar una o más de las características de la señal
-  Amplitud
-  Frecuencia
-  Fase

#+reveal: split
[[file:media/modulacion-animacion.gif]]

#+reveal: split
| Amplitud                           | Frecuencia                           | Fase                           |
| [[file:media/modulacion-amplitud.png]] | [[file:media/modulacion-frecuencia.png]] | [[file:media/modulacion-fase.png]] |


** Suma de señales
- Se pueden [[https://www.geogebra.org/m/BOMfKCIK][sumar varias señales]]
  - Es la forma de multiplexar varias señales por un medio
- En el lado receptor se pueden separar las señales
  - Si cada señal tiene un rango de frecuencias distinto
  - Utilizando la [[https://es.wikipedia.org/wiki/Transformada_de_Fourier][Transformada de Fourier]]
  
file:media/suma-de-senales.png

Señalización – Señales analógicas complejas

** Baudios / /bit rate/
- *Baudios*: Número de señales *digitales* enviadas por segundo
  - Cada señal es de un conjunto limitado de posibilidades
- *Bits*: Número de bits enviados por segundo

$$ bitrate = baudios*bitsporbaudio $$

** Ejercicios
- Determina los baudios y bits por segundo de:
  - El foco morse de un barco de la marina, que se puede encender o apagar cada segundo
  - Un semáforo, que puede cambiar cada 0.5 segundos a uno de sus tres colores
  - Un semáforo, que puede cambiar cada 0.5 segundos a cualquier combinación de sus tres colores
  - Una sinusoidal, que 10 veces por segundo puede
    - cambiar de frecuencia tres frecuencias posibles
    - y a la vez, cambiar de amplitud a dos amplitudes posibles

* Codificación de canal
- Cada señal enviada no tiene por que ser *directamente* el dato que se quiere enviar
- El conjunto de señales recibidas pueden ser reinterpretadas
  - Para distinguir el inicio y el fin de la transmisión de los datos reales
  - Para mejorar la detección de errores
  - Para sincronizar los relojes de muestreo entre emisor y receptor

- Para el resto de la explicación se supondrán señales en banda base
  -  Aunque sería aplicable a banda ancha

** Codificación unipolar
| 0 | 0V |
| 1 | xV | 

- Ventajas
  - Simple de entender e implementar
- Desventajas
  - La amplitud media no es 0, por lo que hay un componente de corriente continua apreciable

** Código [[https://es.wikipedia.org/wiki/C%25C3%25B3digos_NRZ][NRZ-L]] 
| 0 | -xV |
| 1 | +xV |
[[file:media/codificacion-nrzl.png]]
- Ventajas
  - Ya no hay corriente continua
- Desventajas
  - Si mando muchos 0s o 1s seguidos, puedo perder la sincronización del reloj

** Código [[https://es.wikipedia.org/wiki/C%25C3%25B3digos_NRZ][NRZI]]
| 0 | La señal no cambia       |
| 1 | La señal cambia de signo |
[[file:media/codificacion-nrzi.png]]

- Ventajas
  - Si mando muchos 1s no pierdo sincronía
- Desventajas
  - Pero si mando muchos 0s sí pierdo sincronía

** Código [[https://es.wikipedia.org/wiki/C%25C3%25B3digos_RZ][RZ]]   
| 0 | -xV seguido de 0V |
| 1 | xV seguido de 0V  |
[[file:media/codificacion-rz.png]]

- Ventajas
  - No pierdo sincronía
- Desventajas
  - Necesito 3 niveles posibles en vez de dos (desperdicio bits, /hardware/ más complejo)
  - La mitad de los baudios se gasta en la sincronía

** Código [[https://es.wikipedia.org/wiki/Codificaci%25C3%25B3n_Manchester][Manchester]]   
| 0 | -xV seguido de xV |
| 1 | xV seguido de -xV |
[[file:media/codificacion-manchester.png]]
- Ventajas
  - Sólo dos niveles de señal
- Desventajas
  - Transiciones extra a principio de señal (con muchos 0s o 1s seguidos)

** Código Manchester diferencial
| 0 | Se cambia el voltaje al principio     |
| 1 | No se cambia el voltaje al principio  |
|---+---------------------------------------|
|   | Pero a mitad de bit siempre se cambia |
[[file:media/codificacion-manchesterdiferencial.png]]
- Ventajas
  - Me ahorro algunas transiciones extra al principio
- Desventajas
  - Pero siguen quedando transiciones extra al principio

** Código [[https://es.wikipedia.org/wiki/Alternate_Mark_Inversion][AMI]]
| 0 | 0V                            |
| 1 | xV o -xV, alternando cada vez |
file:media/codificacion-ami.png
- Desventaja
  - Pérdida de sincronía con muchos 0s


** B8ZS   
|        0 | 0V                             |
|        1 | xV o -xV, alternando cada vez  |
|----------+--------------------------------|
| 00000000 | 000VB0VB                       |
|          | V: Violación, un 1 mal enviado |
|          | B: un 1 bien enviado           |
[[file:media/codificacion-b8zs.png]]
- Ventajas
  - Sincronización com muchos 0s

** 4B/5B
- Se agrupan paquetes de 5 bits
- Correspondencia entre cada paquete de 5 bits con
  - Una secuencia de 4 bits
  - Un código de control
  - Algo inválido (ha habido un error)

[[file:media/codificacion-4b5b.png]]


* Los diferentes medios físicos admiten la transferencia de bits a
distintas velocidades. La transferencia de datos puede medirse de tres formas:
-  Ancho de banda. Capacidad que posee un medio de
transportar datos sin procesar.  El ancho de banda digital (kbps o Mbps) mide la cantidad de información que puede fluir desde un lugar hacia otro en un período de tiempo determinado.
-  Rendimiento. Medida de transferencia de bits a través de los
medios durante un período de tiempo determinado.  Generalmente no coincide con el ancho de banda. Por ejemplo por colisiones en el medio si es de acceso compartido.
-  Capacidad de transferencia útil. Mide la transferencia efectiva
de los datos del usuario entre las entidades de la capa de aplicación (descartando la sobrecarga de cabeceras del resto de capas).

Capacidad del canal para transportar datos

* Modulación en amplitud, frecuencia y fase.

Señales digitales en medios analógicos

* Codifica los dígitos 1011100010 en:
-  NRZ
-  NRZI
-  AMI
-  Bipolar con sustitución de 8 ceros
-  Manchester
-  Manchester diferencial.
-  4B/5B
-  Modulación en amplitud
-  Modulación en frecuencia
-  Modulación en fase

Actividades

* No lo vamos a ver

Señales analógicas en medios analógicos

* Conversión de una señal analógica a digital. Pasos:
-  Muestreo
-  Redondeo
-  Codificación
-  Transmisión
La señal se reconstruye en el receptor a partir de información digital Codificador: transforma de analógico a digital Descodificador: transforma de digital a analógico

Señales analógicas en medios digitales

* Se toman medidas de la señal analógica a intervalos regulares.
A mayor número de muestras por segundo (frecuencia de muestreo), más fiel es la onda digital resultante.  Por otro lado, es necesario establecer cuántos bits son necesarios para cada medición.

Señales analógicas en medios digitales. Muestreo

A mayor número de bits, mayor precisión y más fiel será la onda digital resultante.
* Redondeo: a mayor número de muestras obtenidas, la señal
digital reflejará con mayor precisión la señal analógica que reproduce. Aquello valores de la señal analógica que no se consideran en la digital, deberán ser redondeados al valor digital mas próximo.  Codificación: en última instancia, la transmisión por el medio será digital binaria. Por tanto si el muestreo se realiza sobre múltiples valores digitales, éstos tendrán que utilizar combinaciones de bits para reflejar el valor.  Envío por canal digital: para el envío final, se podrá utilizar cualquiera de los modelos de codificación digital vistos anteriormente.

Señales analógicas en medios digitales. Redondeo y codificación

* Se trata de la técnica que permite compartir el medio entre
diferentes usuarios para obtener el mejor aprovechamiento de su ancho de banda.  Ejemplo: si un medio tiene una capacidad de 4800 bps, entonces puede admitir 2 canales separados de 2400 bps o 4 canales de 1200 bps.

Multiplexación

* Se asigna una banda de frecuencias concreta a cada canal
lógico.
-  Se usa en la radio y tv.
-  Se usa en ADSL para separar voz y datos.
Frecuencia Tiempo Canal 1 Canal 2 Canal 3 Canal 4 1Mhz 500Khz 250Khz 100Khz

Multiplexación por división en frecuencia

* Se divide el tiempo
en ranuras. Cada canal obtiene determinadas ranuras de tiempo.
-  Se usa en
transmisión digital

Multiplexación por división en tiempo

* 
Multiplexación combinada

* Dibuja la señal que se transmite por un medio cuando se
envía las secuencias
-  100101
-  101110
Utilizando:
-  Multiplexación por división en el tiempo, donde a cada
canal se asigna una ranura de 2 bits
-  Usa codificación NRZ
Repite el ejercicio con codificación NRZI y ranuras de 3 bits.

** Ejemplos de multiplexación en frecuencias
- Cuadro Nacional de Atribución de frecuencias
  - http://www.minetad.gob.es/telecomunicaciones/Espectro/Paginas/CNAF.aspx
- [[https://upload.wikimedia.org/wikipedia/commons/d/df/United_States_Frequency_Allocations_Chart_2011_-_The_Radio_Spectrum.pdf][Equivalente estadounidense]]
  - [[file:media/frecuencias-estados-unidos.pdf]]

* Sincronización
- Proceso mediante en cual el equipo receptor, conoce los momentos exactos en que debe medir la magnitud de la señal para identificar la información recibida.  
- Dependiendo del tipo de sincronización, la transmisión puede ser:
  - Asíncrona
  - Síncrona

* Las señales que permiten marcar los tiempos están
incluidas en el mensaje transmitido.  En el mensaje hay algunos bits que sirven para sincronizar emisor y receptor.  Los datos se transmiten enviándolos carácter a carácter, donde cada carácter tiene una longitud de 5 a 8 bits. El receptor tiene la oportunidad de resincronizarse al principio de cada carácter.  La transmisión asíncrona es sencilla y no costosa, si bien requiere de 2 o 3 bits suplementarios por cada carácter.

Transmisión asíncrona

* 
Transmisión asíncrona

* Los bits se envían a una cadencia constante sin
discriminar los caracteres que componen.  El emisor y el receptor se encargan de la sincronización de modo que sean capaces de reconstruir la información original. Deben utilizar relejes a la misma frecuencia.  El comienzo y el final de cada bloque de datos se identifican con patrones de bits conocidos en ambos lados de la comunicación.  El modo de transmisión síncrona permite velocidades de transmisión mayores que la asíncrona ya que es menos sensible al ruido y obtiene un mejor rendimiento de la línea de datos.

Transmisión síncrona

* Paralelo/serie
- Modo de transmisión serie
  - Una única línea transmite los datos
  - Ejemplos: ADSL, USB 1.0
- Mode de transmisión paralelo
  - La información se envía simultáneamente por varias líneas
  - Más rápido, pero con mayores problemas de sincronía a distancias largas
  - Ejemplos: buses internos del ordenador


* Problemas en la transmisión

- En una transmisión, la señal recibida puede ser distinta de la emitida por culpa de perturbaciones:
-  Atenuación
-  Distorsión
-  Interferencia
-  Ruido
-  Diafonía

** Atenuación
- Debilitamiento de la señal debido a la resistencia eléctrica del canal
- La *amplitud* de la señal disminuye
- Se puede mejorar con
  - Mejores cables: cobre, oro
  - Amplificadores
  - Retransmisores/Repetidor
[[file:media/atenuacion.png]]


** Distorsión 
- Deformación de la señal por el hecho de que la velocidad de propagación de la señal en el medio varía con las características de la señal misma
[[file:media/distorsion.png]]

*** /Delay skew/
- En transmisiones paralelas, diferencia en la llegada entre señalas transmitidas simultáneamente
- Empeora con la distancia
  - Hasta hacer imposible la transmisión paralela

** Interferencia
- Suma a la señal que se transmite de otra señal de origen conocido.
  - Otras líneas cercanas (diafonía)
  - Sucesos naturales: tormentas solares, rayos
  - Líneas de corriente
  - Otros aparatos eléctricos: fluorescentes, motores, alternadores


*** Diafonía
- Entre dos circuitos existe diafonía (/Crosstalk/ o XT), cuando parte de las señales presentes en uno de ellos, considerado perturbador, aparece en el otro, considerado perturbado. 
- Diafonía inteligible es aquella en que en el circuito perturbado se "entiende" la señal que se transmite por el circuito perturbador
  - Ejemplo: escuchar a otra conversación por teléfono.

** Ruido
- Es la suma de múltiples interferencias, posiblemente de origen desconocido y de naturaleza aleatoria. 
  - Puede intentar aislarse
- Ruido térmico: agitación de los electrones en el canal por encima de 0K
  - *No se puede eliminar* completamente


* Referencias
- Formatos:
  - [[file:par-2-aspectos-fisicos.html][Transparencias]] 
  - [[file:par-2-aspectos-fisicos.pdf][PDF]]
  - [[https://github.com/alvarogonzalezsotillo/apuntes-clase][Github]]
- Creado con:
  - [[https://www.gnu.org/s/emacs/][Emacs]]
  - [[https://github.com/yjwen/org-reveal][org-reveal]]
  - [[https://www.latex-project.org/][Latex]]
    
